@model IEnumerable<StrongSite.Models.MenageBalanses>

<div class="container py-4 py-xl-5">
    <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3">
        @foreach (StrongSite.Models.MenageBalanses b in Model)
        {
            <div class="col">
                <a href="@Url.Action("CardsOpen", "Customer", new { id = b.CardsId })" class="card">
                    <div class="card-body p-4">
                        <div class="d-flex" style="margin-bottom: 15px;">
                            <img class="flex-shrink-0 me-3 fit-cover" style="border-radius:5px" width="80" height="50" src="~/Resources/CardsImage/@b.Cards_Id.Image">
                            <div>
                                <p class="fw-bold mb-0">@b.Cards_Id.Title</p>
                                <p class="text-muted mb-0">@b.Cards_Id.BankName</p>
                            </div>
                        </div>
                        <div style="height: 95px;">
                            <p class="card-text">@b.Cards_Id.DescriptionOne</p>
                            <p class="card-text">@b.Cards_Id.DescriptionTwo</p>
                            <p class="card-text">@b.Cards_Id.DescriptionThree</p>
                            <p class="card-text">@b.Cards_Id.DescriptionFour</p>
                        </div>
                        @if (Request.IsAuthenticated)
                        {
                            <div style="display:flex;">
                                <p class="card-text" style="font-weight:bold; padding-right:5px;">Вознаграждение:</p>
                                <p>@b.Amount ₽</p>
                            </div>
                        }
                        @if (Request.IsAuthenticated && User.IsInRole("Региональный менеджер"))
                        {
                            <div style="display:flex;">
                                <p class="card-text" style="font-weight:bold; padding-right:5px;">Вознаграждение менеджера:</p>
                                <p>@(b.MaxAmount - b.Amount)₽</p>
                            </div>
                        }
                    </div>
                </a>
            </div>
        }
    </div>
</div>

<style>
    p {
        margin-bottom: 0px;
    }
</style>
